# めんどうくさいWebセキュリティ

## ch2: URLから始めよう
* 絶対URLの構造: `scheme://login:password@address:port/path/to/resource?query_string#fragment`
* URLにおける`オーソリティ`とは、以下の3つの情報を組み合わせたもの
  * リソースにアクセスするための資格情報 (`login.password@`)
  * データの提供元であるサーバー (`address`)
  * 接続先ポート番号 (`port`)
* ブラウザがURLをパースするアルゴリズムの例 (絶対URLの場合)
  * スキーム名を抽出: `:`より左にあるものが、scheme
  * 階層的URLを示すインジケータの処理: `//`があれば読み飛ばす
  * オーソリティの取り出し: `/`, `?`, `#` 以外の場合 (`\`, `;`を区切り文字と解釈するブラウザもあるので、これを含むこともある)
    * 認証情報の発見 (ある場合): `@`があれば対象。`:`があれば、loginとpasswordを分割
    * 宛先アドレスの取り出し: 残った部分が宛先アドレス。`:`があれば、addressとportを分離
  * パスの識別 (ある場合): オーソリティの直後に、`/`,(`\`,`:`)があり、その次に`?`,`#`,文字列の終端のいずれかを検索する
  * クエリ文字列の取り出し (ある場合): 直前に取り出した要素に続いて、`?`があれば、その次に`#`,文字列の終端のいずれかを検索する
  * フラグメント識別子の取り出し (ある場合): 直前に取り出した要素に続いて、`#`があれば、その次に文字列の終端までの全てがフラグメント識別子になる
* URL予約文字
  * `:`, `/`, `?`, `#`, `[`, `]`, `@`
  * 決まった用途はないものの、区切り文字として予約されているもの: `!`, `$`, `&`, `'`, `(`, `)`, `*`, `+`, `,`, `;`, `=`
* 上記のURL予約文字をURLに含める方法として、`パーセントエンコーディング(URLエンコーディング)`がある  
  * `%` + `ASCIIコード値を示した2桁の16進数値` で表現する
  
  
